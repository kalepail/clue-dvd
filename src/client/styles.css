@import "tailwindcss";

/*
 * Clue DVD Game - 1920s Mystery Theme
 * Custom theme built on Tailwind CSS v4
 */

@theme {
  /* Colors - 1920s Art Deco Mystery Palette */
  --color-background: #0f0d0a;
  --color-foreground: #ece6dc;

  --color-card: #1c1814;
  --color-card-foreground: #ece6dc;

  --color-popover: #1c1814;
  --color-popover-foreground: #ece6dc;

  --color-primary: #d4af37;
  --color-primary-foreground: #0f0d0a;

  --color-secondary: #1a1613;
  --color-secondary-foreground: #ece6dc;

  --color-muted: #252019;
  --color-muted-foreground: #9a8e7f;

  --color-accent: #2a241c;
  --color-accent-foreground: #ece6dc;

  --color-destructive: #a33c3c;
  --color-destructive-foreground: #f5efe6;

  --color-success: #2d6b4a;
  --color-success-foreground: #f5efe6;

  --color-border: #3d352a;
  --color-input: #1a1613;
  --color-ring: #d4af37;

  /* Additional theme colors */
  --color-gold: #d4af37;
  --color-gold-light: #e8d078;
  --color-gold-dark: #a68a2a;
  --color-cream: #f5efe6;
  --color-burgundy: #722f37;
  --color-emerald: #1d4a3a;
  --color-navy: #1a2a3a;

  /* Typography */
  --font-display: "Cinzel", serif;
  --font-body: "Crimson Text", serif;

  /* Border radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;

  /* Card dimensions */
  --card-aspect-ratio: 0.76;
  --reveal-card-aspect-ratio: 0.76;
  --selection-card-max-width: 230px;

  /* Viewport-responsive spacing (no-scroll system) */
  --space-xs: clamp(0.25rem, 0.5vh, 0.5rem);
  --space-sm: clamp(0.5rem, 1vh, 1rem);
  --space-md: clamp(0.75rem, 1.5vh, 1.5rem);
  --space-lg: clamp(1rem, 2vh, 2rem);
  --space-xl: clamp(1.5rem, 3vh, 3rem);

  /* Component heights */
  --header-height: clamp(80px, 10vh, 140px);
  --footer-height: clamp(40px, 5vh, 70px);
  --solution-card-height: clamp(120px, 18vh, 220px);
}

/* Base styles */
* {
  @apply border-border;
}

body {
  @apply bg-background text-foreground antialiased;
  font-family: var(--font-body);
  line-height: 1.6;
  /* Subtle noise texture overlay */
  background-image:
    radial-gradient(ellipse at top, rgba(212, 175, 55, 0.03) 0%, transparent 50%),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  background-attachment: fixed;
}

#root {
  height: 100dvh;
  max-height: 100dvh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  @apply text-primary font-semibold tracking-wide;
}

h1 {
  @apply text-4xl uppercase tracking-widest;
}

h2 {
  @apply text-2xl tracking-wide;
}

h3 {
  @apply text-xl;
}

/* ============================================
   ART DECO DECORATIVE ELEMENTS
   ============================================ */

/* Gold decorative divider - horizontal line with diamond center */
.deco-divider {
  @apply relative flex items-center justify-center my-6;
}

.deco-divider::before,
.deco-divider::after {
  content: "";
  @apply flex-1 h-px bg-gradient-to-r from-transparent via-primary/60 to-transparent;
}

.deco-divider::before {
  @apply bg-gradient-to-r from-transparent to-primary/60;
}

.deco-divider::after {
  @apply bg-gradient-to-l from-transparent to-primary/60;
}

.deco-divider-diamond {
  @apply w-3 h-3 bg-primary rotate-45 mx-4 shadow-sm;
  box-shadow: 0 0 8px rgba(212, 175, 55, 0.4);
}

/* Art Deco corner ornaments */
.deco-corners {
  @apply relative;
}

.deco-corners::before,
.deco-corners::after {
  content: "";
  @apply absolute w-8 h-8 border-primary/50;
  pointer-events: none;
}

.deco-corners::before {
  @apply top-0 left-0 border-t-2 border-l-2;
}

.deco-corners::after {
  @apply bottom-0 right-0 border-b-2 border-r-2;
}

/* Sunburst decorative element */
.deco-sunburst {
  @apply relative;
}

.deco-sunburst::before {
  content: "";
  @apply absolute inset-0 opacity-10 pointer-events-none;
  background: radial-gradient(circle at center, var(--color-gold) 0%, transparent 60%);
}

/* Art Deco frame border */
.deco-frame {
  @apply relative border-2 border-primary/30;
  box-shadow:
    inset 0 0 0 4px var(--color-background),
    inset 0 0 0 5px rgba(212, 175, 55, 0.2);
}

/* Geometric pattern overlay (subtle) */
.deco-pattern {
  @apply relative;
}

.deco-pattern::before {
  content: "";
  @apply absolute inset-0 opacity-5 pointer-events-none;
  background-image:
    linear-gradient(30deg, var(--color-gold) 12%, transparent 12.5%, transparent 87%, var(--color-gold) 87.5%, var(--color-gold)),
    linear-gradient(150deg, var(--color-gold) 12%, transparent 12.5%, transparent 87%, var(--color-gold) 87.5%, var(--color-gold)),
    linear-gradient(30deg, var(--color-gold) 12%, transparent 12.5%, transparent 87%, var(--color-gold) 87.5%, var(--color-gold)),
    linear-gradient(150deg, var(--color-gold) 12%, transparent 12.5%, transparent 87%, var(--color-gold) 87.5%, var(--color-gold));
  background-size: 80px 140px;
  background-position: 0 0, 0 0, 40px 70px, 40px 70px;
}

/* ============================================
   HOST HEADER - Art Deco Styled
   ============================================ */

.host-header {
  @apply relative overflow-hidden;
  background:
    radial-gradient(ellipse at top center, rgba(212, 175, 55, 0.08) 0%, transparent 50%),
    linear-gradient(180deg, #1a1613 0%, #0f0d0a 100%);
  border-bottom: 1px solid rgba(212, 175, 55, 0.3);
}

.host-header::before {
  content: "";
  @apply absolute inset-0 opacity-5 pointer-events-none;
  background-image:
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 100px,
      rgba(212, 175, 55, 0.3) 100px,
      rgba(212, 175, 55, 0.3) 101px
    );
}

.host-header-inner {
  @apply relative max-w-5xl mx-auto text-center;
  padding: var(--space-sm) var(--space-lg);
}

.host-header-corner {
  @apply absolute w-16 h-16 pointer-events-none;
}

.host-header-corner::before,
.host-header-corner::after {
  content: "";
  @apply absolute bg-primary/40;
}

.host-header-corner-tl {
  @apply top-4 left-4;
}

.host-header-corner-tl::before {
  @apply top-0 left-0 w-full h-px;
}

.host-header-corner-tl::after {
  @apply top-0 left-0 w-px h-full;
}

.host-header-corner-tr {
  @apply top-4 right-4;
}

.host-header-corner-tr::before {
  @apply top-0 right-0 w-full h-px;
}

.host-header-corner-tr::after {
  @apply top-0 right-0 w-px h-full;
}

.host-header-deco-line {
  @apply absolute top-0 left-1/2 -translate-x-1/2 h-1;
  width: min(80%, 400px);
  background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
}

.host-header-title-section {
  @apply flex flex-col items-center gap-1;
}

.host-header-subtitle-top {
  @apply text-sm uppercase tracking-[0.3em] text-muted-foreground;
  font-family: var(--font-display);
}

.host-header-title {
  @apply text-6xl md:text-7xl uppercase tracking-[0.2em] mb-0;
  font-family: var(--font-display);
  background: linear-gradient(180deg, #e8d078 0%, #d4af37 50%, #a68a2a 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 2px 20px rgba(212, 175, 55, 0.3);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

.host-header-divider {
  @apply flex items-center justify-center gap-3 my-2;
  width: min(60%, 200px);
}

.host-header-divider-line {
  @apply flex-1 h-px bg-gradient-to-r from-transparent to-primary/60;
}

.host-header-divider-line:last-child {
  @apply bg-gradient-to-l from-transparent to-primary/60;
}

.host-header-divider-diamond {
  @apply w-2 h-2 bg-primary rotate-45;
  box-shadow: 0 0 6px rgba(212, 175, 55, 0.5);
}

.host-header-subtitle {
  @apply text-xl uppercase tracking-[0.4em] text-gold-light;
  font-family: var(--font-display);
}

.host-header-year {
  @apply text-xs uppercase tracking-[0.5em] text-muted-foreground mt-2;
  font-family: var(--font-display);
}

.host-header-nav {
  @apply flex justify-center gap-4 mt-6;
}

.host-header-nav-link {
  @apply inline-flex items-center gap-2 px-6 py-2 text-sm uppercase tracking-[0.15em] no-underline transition-all duration-300;
  font-family: var(--font-display);
  color: var(--color-muted-foreground);
  border-bottom: 2px solid transparent;
}

.host-header-nav-link:hover {
  color: var(--color-gold-light);
  border-bottom-color: var(--color-gold);
}

.host-header-nav-link.active {
  color: var(--color-gold);
  border-bottom-color: var(--color-gold);
}

.host-header-nav-icon {
  @apply text-xs opacity-60;
  font-size: 0.5rem;
}

.host-header-nav-link.active .host-header-nav-icon {
  @apply opacity-100;
}

/* Settings button - positioned inside header */
.settings-button-container {
  @apply fixed z-50;
  top: 1.5rem;
  right: 1.5rem;
}

.settings-button {
  @apply bg-card/80 border-border/50 text-muted-foreground;
  backdrop-filter: blur(8px);
}

.settings-button:hover {
  @apply bg-card border-primary/50 text-primary;
}

/* Custom component styles that work with shadcn */
.clue-card {
  @apply bg-gradient-to-br from-card to-accent border-l-4 border-primary;
  @apply p-5 mb-4 relative rounded-r-lg;
}

.clue-card::before {
  content: attr(data-number);
  @apply absolute -top-2.5 -left-2.5 w-8 h-8;
  @apply bg-primary text-primary-foreground rounded-full;
  @apply flex items-center justify-center;
  font-family: var(--font-display);
  @apply font-bold text-sm;
}

.clue-display-text {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.latest-clue-card {
  max-height: 220px;
}

.host-modal-card {
  width: min(86vw, 900px);
  max-height: 90vh;
  overflow: auto;
}

.host-modal-body {
  font-size: 1.35rem;
  line-height: 1.5;
}

.host-modal-image {
  width: 100%;
  height: auto;
  max-height: 52vh;
  object-fit: contain;
  border-radius: 16px;
}

.host-modal-card .text-sm {
  font-size: 1.2rem;
}

.host-modal-card .text-xs {
  font-size: 1.1rem;
}

/* Progress bar */
.progress-bar {
  @apply h-2 bg-secondary rounded-full overflow-hidden;
}

.progress-fill {
  @apply h-full bg-gradient-to-r from-primary to-gold-light transition-all duration-500;
}

/* Game grid items */
.game-item {
  @apply p-4 bg-card/80 border border-border rounded-lg text-center;
  @apply transition-all duration-300 cursor-pointer relative;
  background: linear-gradient(135deg, rgba(28, 24, 20, 0.9) 0%, rgba(26, 22, 19, 0.95) 100%);
}

.game-item::before {
  content: "";
  @apply absolute inset-0 rounded-lg opacity-0 transition-opacity duration-300 pointer-events-none;
  background: radial-gradient(ellipse at center, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
}

.game-item:hover::before {
  @apply opacity-100;
}

.game-item:hover {
  @apply border-primary/70 -translate-y-1;
  box-shadow:
    0 8px 24px rgba(0, 0, 0, 0.4),
    0 0 0 1px rgba(212, 175, 55, 0.1);
}

.game-item.eliminated {
  @apply opacity-40 line-through cursor-default;
}

.game-item.selected {
  @apply border-primary bg-card;
  box-shadow:
    0 0 20px rgba(212, 175, 55, 0.2),
    inset 0 0 20px rgba(212, 175, 55, 0.05);
}

/* Game card with Art Deco accent */
.game-card-deco {
  @apply relative p-6 bg-card rounded-xl border border-border overflow-hidden;
}

.game-card-deco::before {
  content: "";
  @apply absolute top-0 left-0 right-0 h-1;
  background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
}

.game-card-deco::after {
  content: "";
  @apply absolute bottom-0 left-0 right-0 h-px;
  background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.3), transparent);
}

/* History items */
.history-item {
  @apply flex gap-4 p-4 border-b border-border last:border-b-0;
}

.history-sequence {
  font-family: var(--font-display);
  @apply text-primary min-w-8;
}

.history-actor {
  @apply text-gold-light font-semibold;
}

.history-details {
  @apply text-muted-foreground text-sm;
}

/* Badge variants */
.badge-setup { @apply text-muted-foreground; }
.badge-in-progress { @apply text-primary; }
.badge-solved { @apply text-success; }
.badge-abandoned { @apply text-destructive; }

/* Loading spinner */
.loading-spinner {
  @apply inline-block w-5 h-5 border-2 border-primary border-r-transparent rounded-full animate-spin;
}

/* Animations */
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Turn announcement toast */
.turn-toast {
  position: fixed;
  top: 1.25rem;
  left: 50%;
  transform: translateX(-50%) translateY(-8px);
  padding: 0.75rem 1.5rem;
  background: rgba(52, 44, 37, 0.95);
  border: 1px solid var(--color-primary);
  color: var(--color-foreground);
  font-family: var(--font-display);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  border-radius: 999px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
  opacity: 0;
  z-index: 50;
  transition: opacity 0.25s ease, transform 0.25s ease;
}

.turn-toast-show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* ============================================
   SOLUTION CARDS - Magnifying Glass Effect
   ============================================
   Mimics the physical Clue DVD Game red magnifying glass
   that reveals blue symbols hidden under red shapes.
*/

.solution-cards-container {
  @apply text-center space-y-4 mt-6;
}

.solution-cards-title {
  @apply flex items-center justify-center gap-2 text-xl;
}

.solution-cards-subtitle {
  @apply text-muted-foreground text-sm;
}

.solution-cards-instruction {
  @apply text-muted-foreground text-xs mt-4 italic;
}

.solution-cards-grid {
  @apply grid grid-cols-2 lg:grid-cols-4 gap-4 max-w-4xl mx-auto;
}

/* Individual Solution Card */
.solution-card {
  @apply relative p-3 rounded-lg transition-all duration-300;
  background-image: url("/images/Back of card design.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: #2a231e;
  background-blend-mode: multiply;
  border: 2px solid #4a2020;
  aspect-ratio: var(--card-aspect-ratio);
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='none' stroke='%23c4a35a' stroke-width='2'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'/%3E%3C/svg%3E") 16 16, pointer;
}

.solution-card:hover {
  @apply shadow-lg;
  box-shadow: 0 0 20px rgba(196, 163, 90, 0.4);
  transform: scale(1.02);
}

.solution-card-loading {
  @apply flex items-center justify-center min-h-[180px];
}

.solution-card-label {
  @apply absolute -top-2.5 left-1/2 -translate-x-1/2 px-3 py-0.5;
  @apply bg-primary text-primary-foreground rounded-full text-xs font-bold;
  font-family: var(--font-display);
  letter-spacing: 0.1em;
}

.solution-card-inner {
  @apply pt-6 pb-3 h-full flex flex-col;
}

/* Suspect selection cards */
.suspect-select-grid {
  @apply grid gap-3;
  grid-template-columns: repeat(5, minmax(150px, 1fr));
  justify-items: center;
}

.suspect-select-card {
  @apply relative w-full rounded-xl border-2 border-border bg-secondary/60 p-2 text-left transition-all duration-200;
  aspect-ratio: var(--card-aspect-ratio);
  max-width: var(--selection-card-max-width);
  margin: 0 auto;
}

.suspect-select-card:hover:not(:disabled) {
  @apply border-primary shadow-lg;
  transform: translateY(-2px);
}

.suspect-select-card.is-selected {
  border-color: var(--suspect-color);
  box-shadow: 0 0 0 2px color-mix(in oklab, var(--suspect-color) 60%, transparent);
}

.suspect-select-card:disabled {
  @apply opacity-40 cursor-not-allowed;
}

.suspect-select-image {
  @apply w-full h-full object-cover rounded-lg;
  display: block;
}

.suspect-select-name {
  @apply absolute left-2 right-2 bottom-2 text-xs font-semibold text-cream bg-black/50 px-2 py-1 rounded-md;
}

.suspect-select-disabled {
  @apply absolute top-2 right-2 text-[10px] uppercase tracking-widest bg-black/70 text-cream px-2 py-1 rounded-full;
}

.suspect-picker-trigger {
  @apply relative w-full rounded-lg border-2 border-border bg-secondary/60 px-3 py-2 text-left transition-all duration-200 flex items-center gap-3;
  min-height: 52px;
}

.suspect-picker-trigger:hover {
  @apply border-primary shadow-md;
}

.suspect-picker-trigger:focus-visible {
  @apply outline-none ring-2 ring-primary/60;
}

.suspect-picker-trigger {
  border-color: color-mix(in oklab, var(--suspect-color) 45%, var(--color-border));
  box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--suspect-color) 35%, transparent);
}

.suspect-picker-thumb {
  @apply w-10 h-10 rounded-md object-cover;
}

.suspect-picker-name {
  @apply text-sm font-semibold text-cream;
}

.suspect-picker-placeholder {
  @apply text-sm text-muted-foreground;
}

.suspect-picker-overlay {
  @apply fixed inset-0 z-50 flex items-center justify-center bg-black/70 px-4;
}

.suspect-picker-panel {
  @apply rounded-2xl border border-primary/40 bg-secondary p-6;
  width: min(95vw, 72rem);
  border-color: color-mix(in oklab, var(--suspect-color) 45%, var(--color-border));
  background-image:
    radial-gradient(circle at top left, color-mix(in oklab, var(--suspect-color) 22%, transparent), transparent 62%),
    linear-gradient(160deg, color-mix(in oklab, var(--suspect-color) 18%, #1a1512), #1a1512 55%);
}

.suspect-picker-header {
  @apply text-center space-y-2 mb-6;
}

.suspect-picker-title {
  @apply text-2xl;
  color: color-mix(in oklab, var(--suspect-color) 70%, var(--color-cream));
  font-family: var(--font-display);
  letter-spacing: 0.12em;
}

.suspect-picker-subtitle {
  @apply text-sm text-muted-foreground;
}

.suspect-picker-selected {
  @apply inline-flex items-center justify-center px-4 py-2 rounded-full text-sm font-semibold uppercase tracking-widest;
  background: color-mix(in oklab, var(--suspect-color) 55%, rgba(0, 0, 0, 0.6));
  color: var(--color-cream);
}

.suspect-picker-actions {
  @apply mt-6 flex flex-col gap-3 sm:flex-row sm:justify-between;
}

/* Accusation selection */
.accusation-selection-summary {
  @apply grid gap-2 text-xs uppercase tracking-[0.2em] text-muted-foreground text-center;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

@media (min-width: 768px) {
  .accusation-selection-summary {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

.accusation-selection-summary span {
  white-space: nowrap;
}

.accusation-grid {
  @apply grid gap-3;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  justify-items: center;
}

.accusation-card {
  @apply relative w-full rounded-xl border-2 border-border bg-secondary/60 p-2 text-left transition-all duration-200;
  aspect-ratio: var(--card-aspect-ratio);
  max-width: var(--selection-card-max-width);
}

.accusation-card:hover:not(:disabled) {
  @apply border-primary shadow-lg;
  transform: translateY(-2px);
}

.accusation-card.is-selected {
  @apply border-primary ring-2 ring-primary/60;
}

.accusation-card:disabled {
  @apply opacity-40 cursor-not-allowed;
}

.accusation-card-image {
  @apply w-full h-full object-cover rounded-lg;
  display: block;
}

.accusation-card-label {
  @apply absolute left-2 right-2 bottom-2 text-xs font-semibold text-cream bg-black/50 px-2 py-1 rounded-md;
}

.accusation-card-text {
  @apply flex items-center justify-center h-full text-xs font-semibold text-cream text-center px-2;
  white-space: nowrap;
}

.accusation-card-disabled {
  @apply absolute top-2 right-2 text-[10px] uppercase tracking-widest bg-black/70 text-cream px-2 py-1 rounded-full;
}

/* Symbol Grid - 2x3 layout */
.symbol-grid {
  @apply grid gap-2 mx-auto;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(3, 1fr);
  width: 88px;
  height: 96px;
  margin-top: auto;
  margin-bottom: -6px;
}

/* Individual Symbol Slot */
.symbol-slot {
  @apply relative w-9 h-7 rounded overflow-hidden;
  background: rgba(0, 0, 0, 0.2);
}

/* Red Obfuscation Layer - hides the symbols */
.symbol-obfuscation {
  @apply absolute inset-0 z-10 rounded;
  background: radial-gradient(ellipse at center, #9b4444 0%, #7a3333 100%);
  transition: opacity 0.4s ease-out;
}

/* Blue Symbol Icon - hidden under red */
.symbol-icon {
  @apply absolute inset-0 flex items-center justify-center text-base;
  opacity: 0;
  transform: scale(0.8);
  transition: opacity 0.4s ease-out, transform 0.3s ease-out;
  filter: drop-shadow(0 0 4px rgba(196, 163, 90, 0.6));
}

.symbol-icon-image {
  width: 22px;
  height: 22px;
}

.turn-color-button {
  background-color: transparent;
  border-color: color-mix(in oklab, var(--turn-color) 70%, var(--color-border));
  color: var(--turn-color);
}

.turn-color-button:hover {
  background-color: color-mix(in oklab, var(--turn-color) 20%, transparent);
  color: var(--turn-color);
}

/* Host lobby layout */
.host-lobby-code-card {
  background: radial-gradient(circle at top, rgba(199, 176, 124, 0.18), transparent 60%);
}

.host-lobby-code {
  text-align: center;
  font-family: var(--font-display);
  font-size: clamp(3rem, 8vw, 6rem);
  letter-spacing: 0.6em;
  color: var(--color-gold);
  padding-left: 0.6em;
}

.host-lobby-grid {
  display: grid;
  gap: var(--space-sm);
  justify-items: center;
  justify-content: center;
  align-content: start;
  overflow-y: auto;
  flex: 1;
  min-height: 0;
  padding: var(--space-xs);
}

.host-lobby-grid-2 {
  grid-template-columns: repeat(2, 140px);
}

.host-lobby-grid-3 {
  grid-template-columns: repeat(3, 140px);
}

.host-lobby-grid-1 {
  grid-template-columns: repeat(auto-fit, 140px);
}

.host-lobby-grid-5 {
  grid-template-columns: repeat(auto-fit, 140px);
}

.host-lobby-card {
  border: 1px solid rgba(199, 176, 124, 0.3);
  border-radius: 18px;
  background: rgba(13, 18, 30, 0.8);
  padding: 10px;
  display: grid;
  gap: 8px;
  width: 100%;
  max-width: calc(var(--selection-card-max-width) * 0.9);
}

.host-lobby-portrait {
  width: 100%;
  aspect-ratio: var(--card-aspect-ratio);
  max-width: calc(var(--selection-card-max-width) * 0.75);
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(8, 12, 22, 0.6);
  margin: 0 auto;
}

.host-lobby-portrait img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.host-lobby-info {
  display: grid;
  gap: 6px;
}

.host-lobby-name {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 0.9rem;
}

.host-lobby-suspect {
  font-family: var(--font-display);
  font-size: 0.85rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--color-gold);
}

@media (max-width: 900px) {
  .lobby-active {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
  }
  .lobby-code-section {
    justify-content: center;
  }
  .lobby-code-card {
    max-width: 380px;
  }
}

@media (max-width: 720px) {
  .host-lobby-grid-5 {
    grid-template-columns: repeat(auto-fit, 120px);
  }
}

@media (max-width: 640px) {
  .host-lobby-grid-2,
  .host-lobby-grid-3 {
    grid-template-columns: repeat(auto-fit, 120px);
  }
  .host-lobby-code {
    font-size: clamp(2.4rem, 10vw, 4rem);
    letter-spacing: 0.4em;
    padding-left: 0.4em;
  }
  .lobby-detective-card {
    max-width: 160px;
  }
}

.symbol-icon-masked {
  width: 26px;
  height: 26px;
  display: inline-block;
  background-color: #c4a35a;
  mask-image: var(--symbol-icon);
  mask-repeat: no-repeat;
  mask-position: center;
  mask-size: contain;
  -webkit-mask-image: var(--symbol-icon);
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
  -webkit-mask-size: contain;
}



/* Revealed State - magnifying glass effect */
.solution-card.revealed .symbol-obfuscation {
  opacity: 0;
}

.solution-card.revealed .symbol-icon {
  opacity: 1;
  transform: scale(1);
}

/* Pulse animation on reveal */
.solution-card.revealed .symbol-grid {
  animation: symbolReveal 0.5s ease-out;
}

@keyframes symbolReveal {
  0% { filter: brightness(1); }
  50% { filter: brightness(1.3); }
  100% { filter: brightness(1); }
}

/* Magnifying glass hint */
.magnifying-hint {
  @apply flex items-center justify-center gap-1 mt-2 text-cream/60 text-xs;
  transition: opacity 0.3s ease;
}

.solution-card.revealed .magnifying-hint {
  opacity: 0;
}

/* Card type color variations */
.solution-card[data-type="suspect"] {
  background: linear-gradient(135deg, #8b3a3a 0%, #6b2a2a 100%);
}

.solution-card[data-type="item"] {
  background: linear-gradient(135deg, #8b6a3a 0%, #6b4a2a 100%);
}

.solution-card[data-type="location"] {
  background: linear-gradient(135deg, #3a6b8b 0%, #2a4a6b 100%);
}

.solution-card[data-type="time"] {
  background: linear-gradient(135deg, #5a3a8b 0%, #3a2a6b 100%);
}

/* ============================================
   SOLUTION REVEAL CARDS - Win Screen
   ============================================
*/

.solution-reveal-grid {
  display: flex;
  justify-content: center;
  gap: var(--space-sm);
  max-width: 100%;
  align-items: stretch;
}

.reveal-card {
  @apply relative;
  perspective: 1200px;
  max-width: 180px;
  flex: 1;
  max-height: clamp(150px, 28vh, 280px);
}

.reveal-card-inner {
  @apply w-full h-full relative transition-transform duration-500;
  aspect-ratio: var(--reveal-card-aspect-ratio);
  transform-style: preserve-3d;
}

.reveal-card-flipped .reveal-card-inner {
  transform: rotateY(180deg);
}

.reveal-card-face {
  @apply absolute inset-0 rounded-xl border-2 text-center px-2 py-2 overflow-hidden;
  backface-visibility: hidden;
}

.reveal-card-front {
  background-image: url("/images/Back of card design.png");
  background-size: 100% 100%;
  background-position: center;
  background-repeat: no-repeat;
  background-color: #2a231e;
  background-blend-mode: multiply;
  border-color: #4a2020;
  color: var(--color-cream);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: 0.6rem;
  padding-top: 20%;
}

.reveal-card-back {
  background: linear-gradient(135deg, #2a231e 0%, #1f1a16 100%);
  border-color: var(--color-success);
  color: var(--color-foreground);
  transform: rotateY(180deg);
  display: grid;
  grid-template-rows: auto minmax(0, 1fr) auto;
  gap: 0.35rem;
}

.reveal-card-label {
  font-family: var(--font-display);
  letter-spacing: 0.2em;
  @apply text-lg uppercase text-cream;
}

.reveal-card-back .reveal-card-label {
  @apply text-sm;
}

.reveal-card-divider {
  width: 66%;
  height: 1px;
  background: color-mix(in oklab, var(--color-cream) 60%, transparent);
}

.reveal-card-hint {
  @apply text-base text-cream/80;
}

.reveal-card-value {
  @apply text-lg font-semibold;
}

.reveal-card-media {
  @apply w-full flex items-center justify-center;
  aspect-ratio: var(--card-aspect-ratio);
  max-height: 100%;
  align-self: center;
  justify-self: center;
  border-radius: 0.75rem;
  overflow: hidden;
}

.reveal-card-image {
  @apply object-cover shadow-sm;
  width: 77%;
  height: auto;
  border-radius: 0.75rem;
  display: block;
  transform-origin: center;
}

/* ============================================
   HOME PAGE - No-scroll layout
   ============================================ */

.home-page {
  height: 100%;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  padding: var(--space-md) var(--space-lg);
}

.home-page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
  flex-shrink: 0;
}

.home-page-content {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
}

.home-page-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-sm);
}

@media (max-width: 900px) {
  .home-page-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 600px) {
  .home-page-grid {
    grid-template-columns: 1fr;
  }
}

.home-page-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
}

/* ============================================
   HOST FOOTER - Art Deco Styled
   ============================================ */

.host-footer {
  @apply relative mt-auto;
  background: linear-gradient(180deg, transparent 0%, rgba(26, 22, 19, 0.8) 20%, #0f0d0a 100%);
  border-top: 1px solid rgba(212, 175, 55, 0.15);
}

.host-footer-inner {
  @apply max-w-5xl mx-auto text-center;
  padding: var(--space-sm) var(--space-lg);
}

.host-footer-deco {
  @apply flex items-center justify-center gap-4 mb-6;
  width: min(70%, 300px);
  margin-left: auto;
  margin-right: auto;
}

.host-footer-deco-line {
  @apply flex-1 h-px;
  background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.4), transparent);
}

.host-footer-deco-diamond {
  @apply w-2.5 h-2.5 bg-primary/60 rotate-45;
}

.host-footer-content {
  @apply flex items-center justify-center gap-3 mb-3;
}

.host-footer-text {
  @apply text-sm uppercase tracking-[0.2em] text-muted-foreground;
  font-family: var(--font-display);
}

.host-footer-dot {
  @apply text-primary/50 text-xs;
}

.host-footer-tagline {
  @apply text-sm italic text-muted-foreground/60;
  font-family: var(--font-body);
}

/* ============================================
   INVESTIGATION CARDS - Home Page
   ============================================ */

.investigation-card {
  @apply relative bg-card rounded-xl border border-border overflow-hidden;
  @apply transition-all duration-300;
}

.investigation-card::before {
  content: "";
  @apply absolute top-0 left-0 right-0 h-0.5 opacity-0 transition-opacity duration-300;
  background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
}

.investigation-card:hover::before {
  @apply opacity-100;
}

.investigation-card:hover {
  @apply border-primary/50 -translate-y-1;
  box-shadow:
    0 12px 32px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(212, 175, 55, 0.1);
}

.investigation-card-header {
  @apply px-5 py-4 border-b border-border/50;
  background: linear-gradient(135deg, rgba(212, 175, 55, 0.05) 0%, transparent 50%);
}

.investigation-card-body {
  @apply p-5;
}

.investigation-card-footer {
  @apply px-5 py-4 border-t border-border/50 flex items-center justify-between;
  background: rgba(15, 13, 10, 0.5);
}

/* Status badges with Art Deco styling */
.status-badge {
  @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs uppercase tracking-wider;
  font-family: var(--font-display);
}

.status-badge-setup {
  @apply bg-muted/50 text-muted-foreground border border-muted-foreground/20;
}

.status-badge-in-progress {
  @apply bg-primary/10 text-primary border border-primary/30;
}

.status-badge-solved {
  @apply bg-success/10 text-success border border-success/30;
}

.status-badge-abandoned {
  @apply bg-destructive/10 text-destructive border border-destructive/30;
}

/* ============================================
   ENHANCED ANIMATIONS
   ============================================ */

@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

@keyframes glow-pulse {
  0%, 100% {
    box-shadow: 0 0 5px rgba(212, 175, 55, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(212, 175, 55, 0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s ease-in-out infinite;
}

.animate-glow {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* Hover lift effect */
.hover-lift {
  @apply transition-all duration-300;
}

.hover-lift:hover {
  @apply -translate-y-1;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

/* Gold accent on hover */
.hover-gold {
  @apply transition-all duration-300;
}

.hover-gold:hover {
  box-shadow: 0 0 0 1px rgba(212, 175, 55, 0.3);
}

/* ============================================
   PHONE LOBBY PAGE - Art Deco Styled
   ============================================ */

.lobby-page {
  height: 100%;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background:
    radial-gradient(ellipse at top center, rgba(212, 175, 55, 0.04) 0%, transparent 50%),
    linear-gradient(180deg, #0f0d0a 0%, #0a0908 100%);
}

/* Lobby Header */
.lobby-header {
  @apply relative overflow-hidden border-b;
  border-color: rgba(212, 175, 55, 0.2);
  background:
    radial-gradient(ellipse at top center, rgba(212, 175, 55, 0.08) 0%, transparent 60%),
    linear-gradient(180deg, #1a1613 0%, #0f0d0a 100%);
}

.lobby-header-inner {
  @apply relative max-w-4xl mx-auto text-center;
  padding: var(--space-md) var(--space-lg);
}

.lobby-header-corner {
  @apply absolute w-12 h-12 pointer-events-none;
}

.lobby-header-corner::before,
.lobby-header-corner::after {
  content: "";
  @apply absolute bg-primary/30;
}

.lobby-header-corner-tl {
  @apply top-4 left-4;
}

.lobby-header-corner-tl::before {
  @apply top-0 left-0 w-full h-px;
}

.lobby-header-corner-tl::after {
  @apply top-0 left-0 w-px h-full;
}

.lobby-header-corner-tr {
  @apply top-4 right-4;
}

.lobby-header-corner-tr::before {
  @apply top-0 right-0 w-full h-px;
}

.lobby-header-corner-tr::after {
  @apply top-0 right-0 w-px h-full;
}

.lobby-header-deco-line {
  @apply absolute top-0 left-1/2 -translate-x-1/2 h-1;
  width: min(60%, 300px);
  background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
}

.lobby-header-content {
  @apply flex flex-col items-center gap-1;
}

.lobby-header-label {
  @apply text-xs uppercase tracking-[0.4em] text-muted-foreground;
  font-family: var(--font-display);
}

.lobby-header-title {
  @apply text-4xl md:text-5xl uppercase tracking-[0.15em] mb-1;
  font-family: var(--font-display);
  background: linear-gradient(180deg, #e8d078 0%, #d4af37 50%, #a68a2a 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

.lobby-header-divider {
  @apply flex items-center justify-center gap-3 my-2;
  width: 120px;
}

.lobby-header-divider-line {
  @apply flex-1 h-px bg-primary/50;
}

.lobby-header-divider-diamond {
  @apply w-2 h-2 bg-primary rotate-45;
  box-shadow: 0 0 6px rgba(212, 175, 55, 0.5);
}

.lobby-header-subtitle {
  @apply text-sm text-muted-foreground italic;
  font-family: var(--font-body);
}

.lobby-back-button {
  @apply absolute top-6 left-6 px-4 py-2 text-xs uppercase tracking-wider;
  @apply bg-transparent border border-border/50 rounded-lg text-muted-foreground;
  @apply transition-all duration-300;
  font-family: var(--font-display);
}

.lobby-back-button:hover {
  @apply border-primary/50 text-primary;
}

/* Lobby Main */
.lobby-main {
  flex: 1;
  min-height: 0;
  padding: var(--space-md) var(--space-lg);
}

/* Create Lobby Section */
.lobby-create-section {
  @apply flex items-center justify-center min-h-[400px];
}

.lobby-create-card {
  @apply text-center max-w-md mx-auto p-8 rounded-2xl border border-border/50;
  background: linear-gradient(135deg, rgba(28, 24, 20, 0.9) 0%, rgba(15, 13, 10, 0.95) 100%);
}

.lobby-create-icon {
  @apply mx-auto mb-4 w-20 h-20 rounded-full flex items-center justify-center;
  @apply text-primary border border-primary/30;
  background: rgba(212, 175, 55, 0.1);
}

.lobby-create-title {
  @apply text-2xl uppercase tracking-wider mb-3;
  font-family: var(--font-display);
  color: var(--color-gold);
}

.lobby-create-description {
  @apply text-muted-foreground mb-6 leading-relaxed;
}

.lobby-create-button {
  @apply px-8 py-3;
}

.lobby-error {
  @apply mt-4 text-sm text-destructive;
}

/* Active Lobby - Side by Side Layout */
.lobby-active {
  display: grid;
  grid-template-columns: minmax(280px, 380px) 1fr;
  gap: var(--space-lg);
  max-width: 1400px;
  margin: 0 auto;
  height: 100%;
  min-height: 0;
}

/* Code Section */
.lobby-code-section {
  display: flex;
  align-items: flex-start;
  justify-content: center;
}

.lobby-code-card {
  @apply text-center rounded-2xl border border-primary/30;
  padding: var(--space-md);
  background:
    radial-gradient(ellipse at top, rgba(212, 175, 55, 0.08) 0%, transparent 60%),
    linear-gradient(135deg, rgba(28, 24, 20, 0.95) 0%, rgba(15, 13, 10, 0.98) 100%);
  width: 100%;
}

.lobby-code-header {
  @apply mb-6;
}

.lobby-code-label {
  @apply text-xs uppercase tracking-[0.3em] text-muted-foreground;
  font-family: var(--font-display);
}

.lobby-code-display {
  @apply relative py-6 px-8 mb-6;
}

.lobby-code-corners {
  @apply absolute inset-0 pointer-events-none;
}

.lobby-code-corner {
  @apply absolute w-6 h-6;
}

.lobby-code-corner::before,
.lobby-code-corner::after {
  content: "";
  @apply absolute bg-primary/60;
}

.lobby-code-corner-tl {
  @apply top-0 left-0;
}

.lobby-code-corner-tl::before {
  @apply top-0 left-0 w-full h-px;
}

.lobby-code-corner-tl::after {
  @apply top-0 left-0 w-px h-full;
}

.lobby-code-corner-tr {
  @apply top-0 right-0;
}

.lobby-code-corner-tr::before {
  @apply top-0 right-0 w-full h-px;
}

.lobby-code-corner-tr::after {
  @apply top-0 right-0 w-px h-full;
}

.lobby-code-corner-bl {
  @apply bottom-0 left-0;
}

.lobby-code-corner-bl::before {
  @apply bottom-0 left-0 w-full h-px;
}

.lobby-code-corner-bl::after {
  @apply bottom-0 left-0 w-px h-full;
}

.lobby-code-corner-br {
  @apply bottom-0 right-0;
}

.lobby-code-corner-br::before {
  @apply bottom-0 right-0 w-full h-px;
}

.lobby-code-corner-br::after {
  @apply bottom-0 right-0 w-px h-full;
}

.lobby-code-value {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, 8vw, 4rem);
  letter-spacing: 0.5em;
  padding-left: 0.5em;
  color: var(--color-gold);
  text-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
}

.lobby-code-instructions {
  @apply mb-6 space-y-2;
}

.lobby-code-url {
  @apply flex items-center justify-center gap-2 flex-wrap;
}

.lobby-code-url-label {
  @apply text-sm text-muted-foreground;
}

.lobby-code-url-value {
  @apply text-sm font-semibold text-foreground px-3 py-1 rounded-lg;
  background: rgba(212, 175, 55, 0.1);
  border: 1px solid rgba(212, 175, 55, 0.2);
}

.lobby-code-hint {
  @apply text-xs text-muted-foreground/70;
}

.lobby-code-actions {
  @apply flex items-center justify-center gap-3 flex-wrap;
}

.lobby-action-button {
  @apply inline-flex items-center gap-2 px-4 py-2 text-xs uppercase tracking-wider;
  @apply bg-transparent border border-border/60 rounded-lg text-muted-foreground;
  @apply transition-all duration-300;
  font-family: var(--font-display);
}

.lobby-action-button:hover:not(:disabled) {
  @apply border-primary/60 text-primary;
}

.lobby-action-button:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.lobby-action-button-danger:hover:not(:disabled) {
  @apply border-destructive/60 text-destructive;
}

/* Detectives Section */
.lobby-detectives-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  min-height: 0;
  overflow: hidden;
}

.lobby-detectives-header {
  @apply text-center;
  flex-shrink: 0;
}

.lobby-detectives-divider {
  @apply flex items-center justify-center gap-4;
}

.lobby-detectives-divider-line {
  @apply w-16 h-px;
  background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.4));
}

.lobby-detectives-divider-line:last-child {
  background: linear-gradient(90deg, rgba(212, 175, 55, 0.4), transparent);
}

.lobby-detectives-divider-text {
  @apply text-sm uppercase tracking-[0.2em] text-primary;
  font-family: var(--font-display);
}

.lobby-detectives-hint {
  @apply text-xs text-muted-foreground/70;
}

/* Waiting State */
.lobby-waiting {
  @apply text-center py-12 text-muted-foreground;
}

.lobby-waiting-dots {
  @apply flex items-center justify-center gap-2 mb-4;
}

.lobby-waiting-dots span {
  @apply w-2 h-2 rounded-full bg-primary/40;
  animation: lobby-dot-pulse 1.5s ease-in-out infinite;
}

.lobby-waiting-dots span:nth-child(2) {
  animation-delay: 0.2s;
}

.lobby-waiting-dots span:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes lobby-dot-pulse {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}

/* Detective Cards */
.lobby-detective-card {
  @apply relative rounded-xl border border-border/50;
  @apply transition-all duration-300;
  padding: var(--space-xs);
  background: linear-gradient(135deg, rgba(28, 24, 20, 0.9) 0%, rgba(15, 13, 10, 0.95) 100%);
  max-width: 140px;
  width: 100%;
}

.lobby-detective-card:hover {
  @apply border-primary/40 -translate-y-1;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

.lobby-detective-lead-badge {
  @apply absolute -top-2 left-1/2 -translate-x-1/2 px-3 py-0.5;
  @apply text-[10px] uppercase tracking-wider rounded-full;
  @apply bg-primary text-primary-foreground;
  font-family: var(--font-display);
  box-shadow: 0 2px 8px rgba(212, 175, 55, 0.4);
}

.lobby-detective-portrait {
  @apply w-full aspect-[0.9] rounded-lg overflow-hidden;
  margin-bottom: var(--space-xs);
  @apply border border-border/30;
  background: rgba(15, 13, 10, 0.5);
}

.lobby-detective-portrait img {
  @apply w-full h-full object-cover;
  object-position: top center;
}

.lobby-detective-info {
  @apply space-y-1 text-center;
}

.lobby-detective-name {
  @apply flex items-center justify-center gap-1.5 text-sm text-foreground;
}

.lobby-detective-suspect {
  @apply block text-xs uppercase tracking-wider text-primary;
  font-family: var(--font-display);
}

/* Lobby Footer */
.lobby-footer {
  @apply text-center;
  padding: var(--space-sm) var(--space-lg);
  border-top: 1px solid rgba(212, 175, 55, 0.1);
}

.lobby-footer-deco {
  @apply flex items-center justify-center gap-3 mb-4;
  width: 200px;
  margin-left: auto;
  margin-right: auto;
}

.lobby-footer-deco-line {
  @apply flex-1 h-px;
  background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.3), transparent);
}

.lobby-footer-deco-diamond {
  @apply w-2 h-2 bg-primary/50 rotate-45;
}

.lobby-footer-text {
  @apply text-xs uppercase tracking-[0.3em] text-muted-foreground/60;
  font-family: var(--font-display);
}

/* ============================================
   GAME PAGE - Art Deco Styled
   ============================================ */

.game-page {
  height: 100%;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background:
    radial-gradient(ellipse at top center, rgba(212, 175, 55, 0.03) 0%, transparent 50%),
    var(--color-background);
}

/* Game Header */
.game-header {
  @apply relative overflow-hidden border-b;
  border-color: rgba(212, 175, 55, 0.25);
  background:
    radial-gradient(ellipse at top center, rgba(212, 175, 55, 0.08) 0%, transparent 60%),
    linear-gradient(180deg, #1a1613 0%, #0f0d0a 100%);
}

.game-header-inner {
  @apply relative max-w-6xl mx-auto;
  padding: var(--space-sm) var(--space-lg);
}

.game-header-corner {
  @apply absolute w-12 h-12 pointer-events-none;
}

.game-header-corner::before,
.game-header-corner::after {
  content: "";
  @apply absolute bg-primary/30;
}

.game-header-corner-tl {
  @apply top-3 left-3;
}

.game-header-corner-tl::before {
  @apply top-0 left-0 w-full h-px;
}

.game-header-corner-tl::after {
  @apply top-0 left-0 w-px h-full;
}

.game-header-corner-tr {
  @apply top-3 right-3;
}

.game-header-corner-tr::before {
  @apply top-0 right-0 w-full h-px;
}

.game-header-corner-tr::after {
  @apply top-0 right-0 w-px h-full;
}

.game-header-deco-line {
  @apply absolute top-0 left-1/2 -translate-x-1/2 h-1;
  width: min(70%, 350px);
  background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
}

.game-header-top {
  @apply flex items-start justify-between mb-4;
}

.game-header-theme {
  @apply space-y-1;
}

.game-header-theme-label {
  @apply block text-[10px] uppercase tracking-[0.3em] text-muted-foreground;
  font-family: var(--font-display);
}

.game-header-theme-name {
  @apply text-xl md:text-2xl;
  font-family: var(--font-display);
  color: var(--color-gold);
}

/* Current Turn Display */
.game-header-turn {
  @apply text-center py-4;
}

.game-header-turn-label {
  @apply text-xs uppercase tracking-[0.3em] text-muted-foreground mb-2;
  font-family: var(--font-display);
}

.game-header-turn-divider {
  @apply flex items-center justify-center gap-3 mb-3;
  width: 140px;
  margin: 0 auto;
}

.game-header-turn-divider-line {
  @apply flex-1 h-px bg-primary/40;
}

.game-header-turn-divider-diamond {
  @apply w-2 h-2 bg-primary rotate-45;
  box-shadow: 0 0 8px rgba(212, 175, 55, 0.5);
}

.game-header-turn-name {
  @apply text-4xl md:text-5xl font-bold mb-2;
  font-family: var(--font-display);
  letter-spacing: 0.05em;
}

.game-header-turn-player {
  @apply inline-flex items-center gap-2 text-sm text-muted-foreground;
}

/* Solved State Header */
.game-header-solved {
  @apply text-center py-4;
}

.game-header-solved-badge {
  @apply inline-flex items-center gap-2 px-6 py-2 rounded-full mb-4;
  background: rgba(45, 107, 74, 0.2);
  border: 1px solid var(--color-success);
  color: var(--color-success);
  font-family: var(--font-display);
  letter-spacing: 0.15em;
  text-transform: uppercase;
}

.game-header-solved-winner {
  @apply flex flex-col items-center gap-1;
}

.game-header-solved-winner-label {
  @apply text-xs uppercase tracking-[0.3em] text-muted-foreground;
  font-family: var(--font-display);
}

.game-header-solved-winner-name {
  @apply text-2xl md:text-3xl text-primary;
  font-family: var(--font-display);
}

/* Progress Section */
.game-header-progress {
  @apply mt-4 space-y-3;
}

.game-header-progress-stats {
  @apply flex items-center justify-center gap-8 flex-wrap;
}

.game-header-stat {
  @apply flex items-center gap-2 text-muted-foreground;
}

.game-header-stat-value {
  @apply text-foreground font-semibold;
  font-family: var(--font-display);
}

.game-header-stat-label {
  @apply text-xs;
}

.game-header-progress-bar {
  @apply h-1.5 rounded-full overflow-hidden;
  background: rgba(212, 175, 55, 0.15);
}

.game-header-progress-fill {
  @apply h-full transition-all duration-500;
  background: linear-gradient(90deg, var(--color-gold-dark), var(--color-gold), var(--color-gold-light));
}

/* Header Actions */
.game-header-actions {
  @apply flex items-center justify-end gap-3 mt-4;
}

.game-header-action {
  @apply inline-flex items-center gap-2 px-4 py-2 text-xs uppercase tracking-wider;
  @apply border rounded-lg transition-all duration-300;
  font-family: var(--font-display);
  background: transparent;
  border-color: rgba(61, 53, 42, 0.6);
  color: var(--color-muted-foreground);
}

.game-header-action:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.game-header-action-danger:hover {
  border-color: var(--color-destructive);
  color: var(--color-destructive);
}

/* ============================================
   GAME SETUP PHASE
   ============================================ */

.game-setup {
  flex: 1;
  min-height: 0;
  padding: var(--space-md) var(--space-lg);
  overflow: hidden;
}

.game-setup-inner {
  @apply max-w-6xl mx-auto;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-lg);
  height: 100%;
}

.game-setup-left {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  min-height: 0;
  overflow-y: auto;
}

.game-setup-right {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  min-height: 0;
}

@media (max-width: 900px) {
  .game-setup-inner {
    grid-template-columns: 1fr;
    overflow-y: auto;
  }
}

.game-setup-header {
  @apply text-center;
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.game-setup-header-deco {
  @apply flex items-center justify-center gap-4;
  width: 200px;
  margin: 0 auto 1rem;
}

.game-setup-header-deco-line {
  @apply flex-1 h-px;
  background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.5), transparent);
}

.game-setup-header-deco-diamond {
  @apply w-2.5 h-2.5 bg-primary rotate-45;
  box-shadow: 0 0 8px rgba(212, 175, 55, 0.5);
}

.game-setup-title {
  @apply text-3xl md:text-4xl uppercase tracking-[0.15em];
  font-family: var(--font-display);
  background: linear-gradient(180deg, #e8d078 0%, #d4af37 50%, #a68a2a 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

.game-setup-subtitle {
  @apply text-muted-foreground max-w-2xl mx-auto leading-relaxed;
}

/* Game Stats */
.game-setup-stats {
  @apply flex items-center justify-center gap-6 flex-wrap;
}

.game-setup-stat {
  @apply flex flex-col items-center gap-1 px-6 py-4 rounded-xl border;
  background: rgba(28, 24, 20, 0.6);
  border-color: rgba(212, 175, 55, 0.2);
}

.game-setup-stat-value {
  @apply text-xl font-semibold text-foreground;
  font-family: var(--font-display);
}

.game-setup-stat-label {
  @apply text-xs uppercase tracking-wider text-muted-foreground;
}

/* Opening Narrative */
.game-setup-narrative {
  @apply relative p-6 rounded-xl border;
  background: rgba(28, 24, 20, 0.8);
  border-color: rgba(212, 175, 55, 0.2);
}

.game-setup-narrative-icon {
  @apply absolute -top-3 left-6 w-10 h-10 rounded-full flex items-center justify-center;
  background: var(--color-card);
  border: 1px solid rgba(212, 175, 55, 0.3);
  color: var(--color-primary);
}

.game-setup-narrative-text {
  @apply italic text-muted-foreground leading-relaxed pt-2;
}

/* Locked Rooms */
.game-setup-locked {
  @apply p-5 rounded-xl border;
  background: rgba(28, 24, 20, 0.6);
  border-color: rgba(212, 175, 55, 0.25);
}

.game-setup-locked-header {
  @apply flex items-center gap-2 mb-2 text-primary;
  font-family: var(--font-display);
}

.game-setup-locked-header h4 {
  @apply text-sm uppercase tracking-widest;
}

.game-setup-locked-text {
  @apply text-sm text-muted-foreground mb-3;
}

.game-setup-locked-rooms {
  @apply flex flex-wrap gap-2;
}

.game-setup-locked-room {
  @apply px-3 py-1 rounded-full text-sm border;
  border-color: rgba(212, 175, 55, 0.3);
  background: rgba(212, 175, 55, 0.05);
}

/* Begin Button */
.game-setup-actions {
  @apply text-center space-y-3 pt-4;
}

.game-setup-begin-btn {
  @apply inline-flex items-center gap-3 px-8 py-4 rounded-xl text-lg uppercase tracking-wider;
  @apply transition-all duration-300;
  font-family: var(--font-display);
  background: linear-gradient(135deg, var(--color-gold-dark), var(--color-gold));
  color: var(--color-background);
  border: none;
  box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
}

.game-setup-begin-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(212, 175, 55, 0.4);
}

.game-setup-begin-btn:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.game-setup-waiting {
  @apply text-sm text-muted-foreground;
}

/* ============================================
   GAME ACTIVE PHASE
   ============================================ */

.game-active {
  flex: 1;
  min-height: 0;
  padding: var(--space-sm) var(--space-lg);
  overflow: hidden;
}

.game-active-grid {
  @apply max-w-6xl mx-auto grid;
  gap: var(--space-sm);
  grid-template-columns: 1fr;
  height: 100%;
}

@media (min-width: 1024px) {
  .game-active-grid {
    grid-template-columns: 1.3fr 0.7fr;
  }
}

.game-active-left {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  min-height: 0;
}

.game-active-right {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  min-height: 0;
}

/* Game Panels */
.game-panel {
  @apply rounded-xl border overflow-hidden;
  background: rgba(28, 24, 20, 0.7);
  border-color: rgba(212, 175, 55, 0.2);
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.game-panel-header {
  @apply flex items-center gap-2 border-b;
  padding: var(--space-xs) var(--space-sm);
  background: rgba(212, 175, 55, 0.05);
  border-color: rgba(212, 175, 55, 0.15);
  flex-shrink: 0;
}

.game-panel-header-icon {
  @apply w-6 h-6 rounded-lg flex items-center justify-center;
  background: rgba(212, 175, 55, 0.1);
  color: var(--color-primary);
}

.game-panel-title {
  @apply text-sm uppercase tracking-wider;
  font-family: var(--font-display);
  color: var(--color-gold);
}

.game-panel-body {
  padding: var(--space-sm);
  flex: 1;
  min-height: 0;
}

/* Timeline panel - scrollable */
.game-panel-timeline {
  flex: 1;
}

.game-panel-timeline .game-panel-body {
  overflow-y: auto;
}

.game-panel-notice {
  @apply mt-4 text-sm text-muted-foreground p-3 rounded-lg;
  background: rgba(212, 175, 55, 0.05);
}

/* Actions Grid */
.game-actions-grid {
  @apply grid;
  gap: var(--space-xs);
  grid-template-columns: repeat(3, 1fr);
}

@media (min-width: 900px) {
  .game-actions-grid {
    grid-template-columns: repeat(6, 1fr);
  }
}

.game-action-btn {
  @apply relative flex flex-col items-center text-center rounded-lg border transition-all duration-300;
  padding: var(--space-xs);
  background: rgba(28, 24, 20, 0.6);
  border-color: rgba(212, 175, 55, 0.2);
}

.game-action-btn:hover:not(:disabled) {
  border-color: var(--color-primary);
  background: rgba(212, 175, 55, 0.05);
  transform: translateY(-2px);
}

.game-action-btn-disabled {
  @apply opacity-40 cursor-not-allowed;
}

.game-action-btn-highlight {
  border-color: var(--color-primary);
  box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
}

.game-action-btn-secondary {
  border-style: dashed;
}

.game-action-btn-icon {
  @apply w-10 h-10 rounded-full flex items-center justify-center mb-2;
  background: rgba(212, 175, 55, 0.1);
  color: var(--color-primary);
}

.game-action-btn-content {
  @apply flex flex-col gap-0.5;
}

.game-action-btn-title {
  @apply text-sm font-semibold text-foreground;
  font-family: var(--font-display);
}

.game-action-btn-desc {
  @apply text-xs text-muted-foreground;
}

/* Narrative Section */
.game-narrative-section {
  @apply space-y-1;
}

.game-narrative-section + .game-narrative-section {
  @apply mt-4;
}

.game-narrative-label {
  @apply text-xs uppercase tracking-wider text-muted-foreground;
  font-family: var(--font-display);
}

.game-narrative-text {
  @apply italic text-foreground/90;
}

/* Turn Order */
.game-turn-list {
  @apply space-y-2;
}

.game-turn-empty {
  @apply text-sm text-muted-foreground text-center py-4;
}

.game-turn-item {
  @apply flex items-center gap-3 px-4 py-3 rounded-lg border transition-all duration-200;
  background: rgba(28, 24, 20, 0.5);
  border-color: rgba(61, 53, 42, 0.5);
}

.game-turn-item-active {
  border-color: var(--turn-color);
  background: color-mix(in oklab, var(--turn-color) 10%, rgba(28, 24, 20, 0.7));
}

.game-turn-indicator {
  @apply w-3 h-3 rounded-full flex-shrink-0;
}

.game-turn-info {
  @apply flex-1 min-w-0;
}

.game-turn-name {
  @apply block text-sm font-semibold text-foreground truncate;
}

.game-turn-suspect {
  @apply block text-xs text-muted-foreground truncate;
}

.game-turn-badge {
  @apply text-xs uppercase tracking-wider px-2 py-1 rounded;
  font-family: var(--font-display);
  background: rgba(212, 175, 55, 0.1);
  color: var(--color-muted-foreground);
}

.game-turn-item-active .game-turn-badge {
  background: var(--turn-color);
  color: var(--color-background);
}

/* ============================================
   GAME SOLVED STATE
   ============================================ */

.game-solved {
  flex: 1;
  min-height: 0;
  padding: var(--space-md) var(--space-lg);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.game-solved-inner {
  @apply max-w-5xl mx-auto text-center;
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  height: 100%;
}

.game-solved-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  flex-shrink: 0;
}

.game-solved-header-deco {
  @apply flex items-center justify-center gap-4;
  width: 200px;
  margin: 0 auto var(--space-xs);
}

.game-solved-header-deco-line {
  @apply flex-1 h-px;
  background: linear-gradient(90deg, transparent, rgba(45, 107, 74, 0.6), transparent);
}

.game-solved-header-deco-diamond {
  @apply w-2.5 h-2.5 rotate-45;
  background: var(--color-success);
  box-shadow: 0 0 8px rgba(45, 107, 74, 0.5);
}

.game-solved-title {
  @apply text-2xl md:text-3xl uppercase tracking-[0.15em];
  font-family: var(--font-display);
  color: var(--color-success);
}

.game-solved-subtitle {
  @apply text-muted-foreground text-sm;
}

.game-solved-cards {
  display: flex;
  justify-content: center;
  gap: var(--space-sm);
  flex: 1;
  min-height: 0;
}

/* Narrative */
.game-solved-narrative {
  @apply relative rounded-xl border text-left;
  padding: var(--space-sm);
  background: rgba(28, 24, 20, 0.8);
  border-color: rgba(45, 107, 74, 0.3);
  flex-shrink: 0;
}

.game-solved-narrative-icon {
  @apply absolute -top-3 left-6 w-8 h-8 rounded-full flex items-center justify-center;
  background: var(--color-card);
  border: 1px solid rgba(45, 107, 74, 0.3);
  color: var(--color-success);
}

.game-solved-narrative-text {
  @apply italic text-muted-foreground leading-relaxed text-sm;
  padding-top: var(--space-xs);
}

/* Return Button */
.game-solved-actions {
  flex-shrink: 0;
}

.game-solved-return-btn {
  @apply inline-flex items-center gap-2 px-6 py-3 rounded-xl uppercase tracking-wider;
  @apply transition-all duration-300;
  font-family: var(--font-display);
  background: transparent;
  border: 1px solid rgba(212, 175, 55, 0.3);
  color: var(--color-muted-foreground);
}

.game-solved-return-btn:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* ============================================
   GAME MODALS
   ============================================ */

.game-modal-overlay {
  @apply fixed inset-0 z-50 flex items-center justify-center p-6;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(4px);
}

.game-modal {
  @apply relative rounded-2xl border overflow-hidden;
  width: min(90vw, 500px);
  max-height: 90vh;
  overflow-y: auto;
  background: linear-gradient(135deg, rgba(28, 24, 20, 0.98) 0%, rgba(15, 13, 10, 0.99) 100%);
  border-color: rgba(212, 175, 55, 0.3);
  box-shadow:
    0 0 0 1px rgba(212, 175, 55, 0.1),
    0 20px 50px rgba(0, 0, 0, 0.5);
}

.game-modal-lg {
  width: min(90vw, 700px);
}

.game-modal-header {
  @apply text-center p-6 border-b;
  background: rgba(212, 175, 55, 0.03);
  border-color: rgba(212, 175, 55, 0.15);
}

.game-modal-icon {
  @apply w-14 h-14 mx-auto mb-4 rounded-full flex items-center justify-center;
  background: rgba(212, 175, 55, 0.1);
  border: 1px solid rgba(212, 175, 55, 0.3);
  color: var(--color-primary);
}

.game-modal-icon-alert {
  background: rgba(212, 175, 55, 0.15);
  animation: glow-pulse 2s ease-in-out infinite;
}

.game-modal-title {
  @apply text-2xl md:text-3xl uppercase tracking-wider mb-2;
  font-family: var(--font-display);
  color: var(--color-gold);
}

.game-modal-subtitle {
  @apply text-muted-foreground;
}

.game-modal-body {
  @apply p-6 space-y-4;
}

.game-modal-text {
  @apply text-lg italic text-foreground leading-relaxed;
}

.game-modal-hint {
  @apply text-sm text-muted-foreground;
}

.game-modal-image {
  @apply w-full rounded-xl;
  max-height: 45vh;
  object-fit: contain;
}

.game-modal-footer {
  @apply flex items-center justify-center gap-3 p-6 border-t;
  background: rgba(15, 13, 10, 0.5);
  border-color: rgba(212, 175, 55, 0.1);
}

.game-modal-footer-split {
  @apply justify-between;
}

.game-modal-btn {
  @apply px-6 py-3 rounded-xl text-sm uppercase tracking-wider transition-all duration-300;
  font-family: var(--font-display);
  background: linear-gradient(135deg, var(--color-gold-dark), var(--color-gold));
  color: var(--color-background);
  border: none;
}

.game-modal-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
}

.game-modal-btn-outline {
  background: transparent;
  border: 1px solid rgba(212, 175, 55, 0.3);
  color: var(--color-muted-foreground);
}

.game-modal-btn-outline:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
  box-shadow: none;
}

.game-modal-waiting {
  @apply text-muted-foreground text-center;
}

/* Inspector Notes Grid */
.game-modal-notes-grid {
  @apply grid gap-3 md:grid-cols-2;
}

.game-modal-note-btn {
  @apply flex flex-col items-center gap-2 p-5 rounded-xl border transition-all duration-300;
  background: rgba(28, 24, 20, 0.6);
  border-color: rgba(212, 175, 55, 0.2);
}

.game-modal-note-btn:hover:not(:disabled) {
  border-color: var(--color-primary);
  background: rgba(212, 175, 55, 0.05);
}

.game-modal-note-btn:disabled {
  @apply opacity-40 cursor-not-allowed;
}

.game-modal-note-label {
  @apply text-xs uppercase tracking-widest text-muted-foreground;
  font-family: var(--font-display);
}

.game-modal-note-status {
  @apply text-lg font-semibold text-foreground;
  font-family: var(--font-display);
}

.game-modal-lookaway {
  @apply text-center p-6 rounded-xl border space-y-4;
  background: rgba(212, 175, 55, 0.05);
  border-color: rgba(212, 175, 55, 0.2);
}

.game-modal-lookaway-text {
  @apply text-muted-foreground;
}

.game-modal-revealed {
  @apply p-5 rounded-xl border space-y-3;
  background: rgba(212, 175, 55, 0.05);
  border-color: rgba(212, 175, 55, 0.25);
}

.game-modal-revealed-label {
  @apply block text-xs uppercase tracking-widest text-muted-foreground;
  font-family: var(--font-display);
}

.game-modal-revealed-text {
  @apply text-lg italic text-foreground;
}

/* ===========================================
   Height-based responsive spacing (no-scroll)
   =========================================== */

/* 1080p and below - Tight spacing */
@media (max-height: 1080px) {
  :root {
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 0.75rem;
    --space-lg: 1rem;
    --space-xl: 1.25rem;
    --header-height: 80px;
    --footer-height: 40px;
    --solution-card-height: 120px;
  }
}

/* 1440p - Comfortable spacing */
@media (min-height: 1081px) and (max-height: 1440px) {
  :root {
    --space-xs: 0.375rem;
    --space-sm: 0.75rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --header-height: 100px;
    --footer-height: 50px;
    --solution-card-height: 160px;
  }
}

/* 4K and above - Spacious */
@media (min-height: 1441px) {
  :root {
    --space-xs: 0.5rem;
    --space-sm: 1rem;
    --space-md: 1.5rem;
    --space-lg: 2rem;
    --space-xl: 3rem;
    --header-height: 140px;
    --footer-height: 70px;
    --solution-card-height: 220px;
  }
}
